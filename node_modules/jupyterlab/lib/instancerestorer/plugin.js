/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/
"use strict";
var statedb_1 = require("../statedb");
var instancerestorer_1 = require("./instancerestorer");
/**
 * The default instance restorer provider.
 */
var plugin = {
    id: 'jupyter.services.instance-restorer',
    requires: [statedb_1.IStateDB],
    activate: function (app, state) {
        var first = app.started;
        var registry = app.commands;
        var shell = app.shell;
        var restorer = new instancerestorer_1.InstanceRestorer({ first: first, registry: registry, state: state });
        // Use the restorer as the application shell's layout database.
        shell.setLayoutDB(restorer);
        return restorer;
    },
    autoStart: true,
    provides: instancerestorer_1.IInstanceRestorer
};
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Export the plugin as default.
 */
exports.default = plugin;
//# sourceMappingURL=plugin.js.map